# Задание "Калибровка Движения"

## Формулировка задания

>  В этом задании, Вам нужно написать прошивку, которую можно использовать для калибровки движения без перепрошивки. Для этого мы будем использовать Bluetooth модуль, который мы будем использовать как UART, работающий по воздуху, и приложение, которое предоставляет соединение  с bluetooth модулем. В приложении нам понадобиться вариант взаимодействия  gamepad. Используйте кнопки X, B, A, Y, <, >, ^, v для того, чтобы пользователь смог откалибровать движение:

## Интерфейс калибровки

### Режимы калибровки

В нашем интерфейсе реализовано три режима калибровки: 
1) Калибровка направления движения.
2) Калибровка скорости вращения колес.
3) Калибровка времени поворота на 90, 180, 270 и 360 градусов.

Переключение между режимами калибровки происходит с помощью кнопок `START` и `PAUSE`.

`START` - предыдущий режим калибровки.

`PAUSE` - следующий режим калибровки.
<hr>

### Движение

Для управления колесной платформой используются кнопки `<`, `>`, `^`, `v`. 
<hr>

### Калибровка

Для переключения объекта калибровки (например, для переключения калибровки движения вперед на калибровку движения назад) используются кнопки `□` и `○`.

`□` - предыдущий объект калибровки.

`○` - следующий объект калибровки.

Для калибровки параметров, например скорости вращения колеса, в каждом режиме используются кнопки `▲` и `✖`


### Калибровка направления движения

Калибровка направления движения происходит в режиме калибровки №1.

Объектов калибровки в этом режиме нет, так что кнопки `□` и `○` не понадобятся.

Если колесная платформа двигается не в правильном для вас направлении, вы можете переключить направления движения с помощью `▲` и `✖`. Всего есть четыре режима, между которыми и происходит переключение.

### Калибровка скорости колес

Калибровка скорости колес происходит в режиме калибровки №2.

Всего есть три объекта калибровки:

1) Левое колесо.
2) Правое колесо.
3) Оба колеса.  

Изначально калибровка стоит на левом колесе. Переключится на другие - кнопки `□` и `○`.


Для редактирования значения скорости используются кнопки `▲` и `✖`. 

`▲` - увеличить значение. `✖` - уменьшить значение.

При калибровке левого или правого колеса при нажатии  значение скорости меняется на 1. При калибровке обоих колес - на 10.


### Калибровка времени поворота

Калибровка времени поворота происходит в режиме калибровки №3.

Всего есть четыре объекта калибровки:

1) 90 градусов.
2) 180 градусов.
3) 270 градусов.
4) 360 градусов.  

Изначально калибровка стоит на 90 градусах. Переключится на другие - кнопки `□` и `○`.

Кнопка `✖` используется для запуска поворота. На сколько градусов будет калибровка зависит от выбранного объекта калибровки. 

Чтобы остановить поворот и сохранить время, требуемое на поворот на выбранное кол-во градусов, нажмите повторно `✖`.

Для проверки сохраненного времени поворота нажмите `▲`. Платформа начнет поворот на выбранное кол-во градусов и остановится, когда достигнет сохраненного времени.

## Схема

Ссылка на схему [7-сегментного индикатора](https://www.tinkercad.com/things/gLiCHLp4rRI-movementcalibration?sharecode=FIZoucqgbehtAHTuPNxtiv_5d5W9BxQ_eagK8G9BR3M).

Программные пины RX и TX на плате, к которым соответственно подключаются TX и RX пины Bluetooth-модуля HC-05:

<table>
    <tr>
        <th></th>
        <th>Пин</th>
    </tr>
    <tr>
        <td>RX</td>
        <td>10</td>
    </tr>
    <tr>
        <td>TX</td>
        <td>11</td>
    </tr>
</table>

![Схема](scheme.png)

## Демонстрация

Ссылка на [видео](https://drive.google.com/file/d/1LYOoXvpPqqA1dvkOoilQZSzid7B-61kj/view?usp=sharing).